#include <sys/types.h>
#include<sys/socket.h>
#include<netinet/in.h>
#include<stdio.h>
#include <unistd.h>
int main()
{
int sd;
char* msg="connected";
char* username="f_ehmed_c";
char* password="abcd";
char* error="error";
char msg1[100];
char msg2[100];
char msg3[100];
struct sockaddr_in my_addr, client_addr;
my_addr.sin_family=AF_INET;
my_addr.sin_port=htons(4999);
my_addr.sin_addr.s_addr=inet_addr("127.0.0.1");
sd=socket(AF_INET,SOCK_STREAM,0);
bind(sd,(struct sockaddr *) &my_addr,sizeof(struct
sockaddr_in));
listen(sd,20);
while(1)
{
int size=sizeof(struct sockaddr);
int new_sd=accept(sd,(struct sockaddr*)&client_addr,&size);
send(new_sd, "Enter Username",100,0);
recv(new_sd,msg1,100,0);
printf("%s","Username is "); 
printf("%s\n",msg1);
if (strcmp(msg1,username) == 0)
{
send(new_sd, "Enter Password",100,0);
recv(new_sd,msg2,100,0);
printf("%s","Password  is ");
printf("%s\n",msg2);}
if (strcmp(msg2,password) == 0)
{
int size=sizeof(struct sockaddr);
int new_sd=accept(sd,(struct sockaddr*)&client_addr,&size);
send(new_sd, msg,100,0);
recv(new_sd,msg3,100,0);
printf("%s\n",msg3);
return 0;

}
else{send(new_sd, error,100,0);}
}
return 0;
}