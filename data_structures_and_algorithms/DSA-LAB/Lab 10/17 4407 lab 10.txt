#include<iostream>
#include<stack>
#include<queue>
using namespace std;
class Graph
{

	private:
	int **adj_matrix;
	int numVertices;

	public:
	//part1: constructor initializes adjacency matrix
	Graph(int numVertex)
	{
		numVertices=numVertex;
		adj_matrix=new int*[numVertices];
		for(int i=0; i<numVertices; i++)
		{
			adj_matrix[i] = new int[numVertices];
			for(int j=0; j<numVertices; j++)
			{
				adj_matrix[i][j]=0;
			}
		}
	}
	//part2: returns the number of vertices in the graph
	int GetNumVertices()
	{
		return numVertices;
	}
//part3: returns the number of edges in the graph
	int numberOfEdges()
	{
		int count = 0;
		for(int i=0; i<numVertices;i++)
		{
			for(int j=0; j<numVertices;j++)
			{
				if(adj_matrix[i][j]==1)
					count++;
			}
		}
		return count/2;
	}
//part4: inserts edge going from one vertex to another
	void inserEdge(int frmVertex, int toVertex)
	{
		adj_matrix[frmVertex][toVertex]=1;
	}
//part5: removes edge going from one vertex to another
	void removeEdge(int frmVertex, int toVertex)
	{
		adj_matrix[frmVertex][toVertex]=2;
	}
//part6: returns the degree of the node passed
	int degree(int vertex)
	{
		int count=0;
		for(int i=0; i<vertex;i++)
		{
			if(adj_matrix[vertex][i]==1)
			{
				count++;
			}
		}
		return count;
	}
	
	//part7: outputs the order in which vertices are visited during DFS
	//Starting from node s.
	void depthfirstSearch(int s)
		{
			stack<int>*x=new stack<int>();
		bool*visited = new bool[numVertices];
		for(int i=0; i<numVertices; i++)
			visited[i]=false;
		x->push(s);
		visited[s]=true;
		while(!x->empty())
		{
			s = x->top();
			cout<<s<<" ";
			x->pop();
			for(int i=0; i<numVertices;i++)
			{
				if(adj_matrix[s][i]==1)
				{
					if(!visited[i])
					{
						visited[i]=true;
						x->push(i);
					}
				}
			}
		}
	}

//part8: outputs the order in which vertices are visited during BFS
	//Starting from node s.
	void breadthfirstSearch(int s)
	{
		queue<int>*q=new queue<int>();

		bool*visited = new bool[numVertices];
		for(int i=0; i<numVertices; i++)
			visited[i]=false;
		q->push(s);
		visited[s]=true;
		while(!q->empty())
		{
			s = q->front();
			cout<<s<<" ";
			q->pop();
			for(int i=0; i<numVertices;i++)
			{
				if(adj_matrix[s][i]==1)
				{
					if(!visited[i])
					{
						visited[i]=true;
						q->push(i);
					}
				}
			}
		}
	}

	void Print()
	{
		for(int i=0; i<numVertices; i++)
		{
			for(int j=0; j<numVertices; j++)
			{
				cout<<adj_matrix[i][j]<<" ";
			}
			cout<<endl;
		}
	}


};

int main()
{
	Graph *g; //creating an object of graph with 5 vertices
	g=new Graph(5);

	//inserting edges in the graph
	g->inserEdge(0,1);
g->inserEdge(0,4);
g->inserEdge(1,0);
g->inserEdge(1,2);
g->inserEdge(1,3);
g->inserEdge(1,4);
g->inserEdge(2,1);
g->inserEdge(2,3);
g->inserEdge(3,1);
g->inserEdge(3,2);
g->inserEdge(3,4);
g->inserEdge(4,0);
g->inserEdge(4,1);
g->inserEdge(4,3);
g->Print();
	//display total number of edges
	cout<<"Number of edges are "<<g->numberOfEdges()<<endl;

//display degree of vertex number 4
cout<<"Degree of vertex "<<g->degree(4)<<endl;

cout<<"Output for Depth first search starting from vertex 0 "<<endl;
g->depthfirstSearch(0);
cout<<"Output for Breadth first search starting from vertex 0 "<<endl;
g->breadthfirstSearch(0);
	return 0;
}


